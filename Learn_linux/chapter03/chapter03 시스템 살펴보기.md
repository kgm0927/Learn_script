
이전 챕터: [[chapter03 시스템 살펴보기]]

이제 리눅스 시스템을 본격적으로 둘러볼 시간이다. 시작하기에 앞서 몇 가지 알아 둘 것이 있다.

- **[[ls]]**-디렉토리 내용 나열하기
- **[[file]]** – 파일 타입 확인하기
- **[[less]]**- 파일 내용 표시하기

---

# 함께 탐험해보자!



리눅스의 파일시스템 배치 형식은 다른 유닉스형 시스템의 것과 매우 흡사하다. 이러한 형식은 **리눅스 파일시스템 계층 표준**(Linux FileSystem Hierachy Standard)에 따라 설계되었으며 모든 리눅스 배포판들이 이 표준을 정확하게 준수하고 있진 않지만 대부분 따르고 있다.


### 리눅스 시스템 디렉토리

| 디렉토리           | 설명                                                                                                                                                                                                                                                                                                      |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /              | 루트 디렉토리, 파일시스템의 시작점.                                                                                                                                                                                                                                                                                    |
| /bin           | 시스템 부팅과 실행에 필요한 바이너리(프로그램)을 포함하고 있다.                                                                                                                                                                                                                                                                    |
| /boot          | 리눅스 커널, 시작 RAM 디스크 이미지(시스템 부팅 시 필요한 드라이버가 있다.), 그리고 **부트로더를 포함**하고 있다.<br><br>살펴볼 파일:<br><br>/boot/grub/grub.conf 또는 menu.lst-> 부트로더 설정 파일<br><br>/boot/vmlinuz, 리눅스 커널                                                                                                                                 |
| /dev           | 디바이스 노드를 갖고 있는 특수한 디렉토리, “모두 다 파일이다.” 라는 말에는 디바이스도 포함하고 있다. 이 디렉토리는 커널이 인식하고 있는 모든 디바이스들을 관리한다.                                                                                                                                                                                                         |
| /etc           | /etc ==디렉토리에는 시스템 전반의 환경설정 파일이 들어있다.== 또한 시스템 부팅 시에 시스템의 각 서비스를 시작하는 쉘 스크립트 전부가 있다. 이 디렉토리의 모든 파일은 텍스트 형식이다.<br><br>살펴볼 파일: /etc 디렉토리에 있는 모든 것들이 다 흥미롭지만 필자가 가장 좋아하는 몇 가지를 소개한다.<br><br>/etc/crontab, 자동 실행되는 업무(job)를 정의하는 파일<br><br>/etc/fstab, 저장장치 테이블과 해당 마운트 포인트 정보<br><br>/etc/passwd, 사용자 계정 정보 |
| /home          | 일반적인 설정 상태에서는 각 사용자마다 /home 디렉토리를 갖게 된다. <mark style="background: #ADCCFFA6;">일반 사용자는 홈 디렉토리 내에서만 파일을 설정할 수 있으며 이러한 제한은 잘못된 조작으로부터 시스템을 보호하기 위한 조치다.</mark>                                                                                                                                             |
| /lib           | 주요 시스템 프로그램에서 사용하는 공유 라이브러리 파일이 저장되어 있다. 이는 윈도우즈의 DLL 과 비슷하다.                                                                                                                                                                                                                                           |
| /lost+found    | 포맷된 각 파티션이나 ext3처럼 리눅스 파일시스템에서 사용하는 디바이스라면 이 디렉토리가 있다. 이것은 <mark style="background: #BBFABBA6;">파일시스템에 문제가 생겼을 때 부분적인 복구를 도와준다.</mark> 시스템에 심각한 상황이 발생하지 않으면 이 디렉토리는 늘 비어있다.                                                                                                                            |
| /media         | 최신 리눅스 시스템에서 **/media** 디렉토리는 USB 드라이버, CD-ROM 등과 같은 휴대용 장치가 시스템에 연결될 때 자동으로 <mark style="background: #ABF7F7A6;">마운트되는 마운트 포인트는 여기에 저장된다.</mark>                                                                                                                                                       |
| /mnt           | 구식 리눅스 시스템에서는 /mnt 디렉토리가 수동으로 휴대용 장치를 제거하기 위한 마운트 포인트를 저장한다.                                                                                                                                                                                                                                            |
| /opt           | <mark style="background: #BBFABBA6;">/opt 디렉토리는 추가적인 소프트웨어를 설치할 때 사용한다.</mark> 여기에는 주로 상업용 소프트웨어가 설치된다.                                                                                                                                                                                                 |
| /proc          | 이거는 특수하다. <mark style="background: #BBFABBA6;">하드 드라이브에 실제로 저장된 파일이라는 의미의 파일시스템이 아니라 이것은 리눅스 커널이 관리하는 가상 파일시스템을 말한다.</mark> 이곳에 저장된 것들은 커널 자체를 들여다 볼 수 있는 파일이다.<br><br>이 파일들은 텍스트 형식이고 커널이 컴퓨터는 어떻게 관리하고 있는지에 대하 단면을 보여줄 것이다.                                                                           |
| /root          | 루트 계정의 홈 디렉터리                                                                                                                                                                                                                                                                                           |
| /sbin          | 시스템 바이너리 파일들이 있다. 이 파일들은 일반적으로 **슈퍼유저**를 위한 중<mark style="background: #BBFABBA6;">요한 시스템 작업을 수행하는 프로그램</mark>이다.                                                                                                                                                                                        |
| /tmp           | /tmp 디렉토리는 임시 저장용 디렉토리이다. <mark style="background: #BBFABBA6;">다양한 프로그램들에 의해서 만들어지는 임시 파일들을 저장하는 공간이다.</mark><br><br>일부 설정 환경에서는 시스템이 재부팅될 때마다 이 디렉토리를 비우도록 하는 옵션이 있다.                                                                                                                                  |
| /usr           | /usr 디렉토리 트리는 리눅스 시스템에서 가장 큰 트리 구조를 가지고 있다. <mark style="background: #BBFABBA6;">여기에는 일반 사용자가 사용하는 모든 프로그램과 지원 파일들이 모두 들어있다.</mark>                                                                                                                                                                     |
| /usr/bin       | <mark style="background: #BBFABBA6;">이 디렉토리에는 사용중인 리눅스 베포판이 설치한 실행 프로그램들이 있다.</mark> 여기는 일반적인 수많은 프로그램들을 저장하는 공간으로 사용되지 않는다.                                                                                                                                                                            |
| /usr/lib       | /usr/bin 디렉토리에 있는 프로그램을 위한 **공유 라이브러리**가 있다.                                                                                                                                                                                                                                                            |
| /usr/local     | /usr/local 트리에는 <mark style="background: #BBFABBA6;">일반적으로 사용하는 베포판 프로그램들 대신 시스템 전반에 걸쳐 사용되는 프로그램들이 저장되는 공간이다.</mark> <mark style="background: #ADCCFFA6;">소스 코드로 컴파일된 프로그램은 주로 /usr/local/bin 디렉토리에 설치된다.</mark><br><br>최신 리눅스 시스템에서는 이러한 트리가 존재하나 시스템 관라자가 이 디렉토리에 별도 작업을 하지 않는 이상 비어있는 상태일 것이다.      |
| /usr/share     | /usr/share 디렉토리에는 /usr/bin 디렉토리에 있는 프로그램이 사용하는 공유 데이터를 저장하며 또한 디폴트 설정 파일, 아이콘, 스크린 배경화면, 음악 파일 등이 있다.                                                                                                                                                                                                   |
| /usr/share/doc | 시스템에 설치된 대부분의 패키지에는 문서파일이 포함되어 있기 마련인데, /usr/share/doc 디렉토리에는 그러한 패키지 문서 파일이 저장된다.                                                                                                                                                                                                                      |
| /var           | /tmp 및 /home 디렉토리를 제외하면 지금까지 살펴본 대부분의 디렉토리들은 상대적으로 정적인 디렉토리들이다. 즉 내용이 거의 변하지 않는다는 것을 의미한다. 그러한 점에서 /var 디렉토리 트리는 상대적으로 변하기 쉬운 데이터를 모아두는 공간이다. 다양한 데이터베이스, 스풀 파일, 사용자 메일 등과 같은 데이터가 저장된다.                                                                                                                |
| /var/log       | /var/log 디렉토리는 시스템 활동을 기록하는 로그 파일이 들어있다. 매시간 시스템 상황을 확인하는 매우 중요한 기록 파일이다. 가장 유용한 것 하나가 /var/log/messages 디렉토리이다.<br><br>보안상의 이유로 일부 시스템에서는 슈퍼유저 권한이 있어야만 로그 파일들을 확인할 수 있다.                                                                                                                              |


---

# 심볼릭 링크


앞에서 살펴본 때로 디렉터리 정보를 확인할 수 있다.

우리는 여기서 디렉토리 정보의 첫 글자가 어떻게 1이 될 수 있는지 또는 파일명이 2개 라는 것을 의미하는 것인지 궁금하다. 이것은 특수한 종류의 파일인 ‘**심볼릭 링크**’다. 대부분의 유닉스형 시스템에서는 하나의 파일에 여러 이름을 부여할 수 있다.

한 프로그램이 있다. 이 프로그램은 foo 파일에 있는 공유 리소스를 사용해야 하지만 foo 파일 내용이 빈번히 변경된다. ==파일명에 버전을 기록함으로써 시스템 관리자나 다른 사용자가 수정된 foo 파일의 버전을 확인할 수 있을 것이다.== 그러나 여기서 생기는 문제는, 공유 리소스를 가지고 있는 파일명이 계속 바뀌게 되면, 이 리소스에 접근하려는 프로그램은 접근할 때마다 파일명을 추적해야 하는 것이다. 이는 결코 쉬운 것이 아니다.

따라서 심볼릭 링크라는 방법으로 이러한 문제를 해결하려고 한다. 예를 들어 foo 파일이 현재 버전 2.6 이고, foo-2.6이라는 파일명으로 저장되어 있다. 그리고 심볼릭 링크를 하나 생생해서 이것이 foo-2.6 파일을 가리키도록 하면 되는 것이다. 다시 말해 프로그램이 foo 파일을 사용하려고 할 때 실제 foo-2.6 파일을 열 수 있도록 하는 것이다. 이것으로 단순히 파일 버전이 변경되는 문자만 해결해주는 것이 아니라 모든 버전을 시스템에 저장하여 관리 또한 가능해진다. 예를 들어 업그레이드된 foo-2.7 파일에 버그가 발견이 되면 이전 버전의 파일로 심볼릭 링크를 수정해주기만 하면 된다.



- 부연 설명

하드 링크

링크에 대해 학습하다 보면 또 다른 링크 타입인 ‘**하드 링크**’가 존재한다는 것을 알 수 있다. 하드 링크란 파일에 여러 이름을 저장할 수 있게 해 주지만, 소프트 링크(심볼릭 링크)와 다른 방식으로 진행한다. 이른 다음 장에서 다룬다.


---
다음 챕터: [[chapter04 파일과 디렉토리 조작]]