
---

# 다른 사용자로 명령어 실행


sudo 명령어는 대부분 su와 비슷하지만 중요한 추가기능이 있다. 관리자는 매우 통제된 방법하에서 일반 사용자가 다른 사용자(대개 슈퍼유저)로 명령을 실행할 수 있게끔 sudo를 설정할 수 있다. 특히, 사용자는 하나 이상의 지정된 명령어로 제한되고 나머지는 불가하다.

또 다른 중요한 차이점은 sudo는 슈퍼유저의 비밀번호를 요구하지 않는다. sudo 사용을 입증하기 위해 사용자는 단지 자신의 비밀번호를 입력한다.


``` shell
┌──(kali㉿kali)-[~]

└─$ sudo backup-script

sudo: backup-script: 명령이 없습니다

(여기서는 backup_script가 되지 않음.)
```


명령어를 입력한 뒤, 비밀번호(슈퍼유저의 비밀번호가 아닌) 입력을 위한 프롬프트가 나타나고 인증이 완료된다. 그리고 지정된 명령어는 실행된다.

su와 sudo의 한 가지 중요한 차이점 sudo는 새로운 쉘을 시작하지 않는다. 또한 다른 사용자의 환경도 로드하지 않는다. 즉 명령어들은 sudo를 사용하지 않을 때와 별반 다르지 않게 인용 부호 없이 사용할 수 있다.

이 동작인 지정한 옵션에 따라 무효화될 수 있다는 것을 유념해라. 자세한 건 sudo의 man페이지를 확인해라.


``` shell
┌──(kali㉿kali)-[~]

└─$ sudo -l

%2$s에서 %1$s에 일치하는 기본 항목:

env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin, use_pty

kali 사용자는 kali에서 다음 명령을 실행해야 합니다:

(ALL : ALL) ALL
```


- ***==부연 설명==***


**우분투와 SUDO**

일반 사용자에게 반복되는 문제 중 하나는 슈퍼유저 특권이 필요한 소프트웨어 설치와 업데이트, 시스템 설정 파일 편집, 장치 접근과 같은 작업들을 어떻게 수행하느냐이다. 윈도우즈 세계에서는 이런 것들은 종종 ‘관리자 권한이 주어진 사용자’에게 진행된다. 사용자에게 이 작업들의 실행이 허용되고 또한 실행된 프로그램은 동일한 기능을 기자고 활성화된다. 이는 대부분의 경우에는 적절하지만 바이러스와 같은 멀웨어(악성 소프트웨어)의 실행 조차도 허용한다.

유닉스 세계에서는 항상 일반 사용자가 관리자 사이에 큰 구분을 둔다. 이는 유닉스 멀티유저 시스템의 유산이다. 유닉스의 이러한 접근법은 필요한 경우에만 슈퍼유저 특권을 허용한다. 이를 위해 su와 sudo 명령이 흔히 사용된다.

몇 년 전 만해도, 리눅스 배포판 대부분은 이 목적으로 su 명령에만 의지했다. su는 sudo에 필요한 설정이 필요하지 않았다. 그리고 유닉스는 전통적으로 루트 계정을 가지고 있다. 이는 문제를 불러왔다. 사용자들은 불필요하게 루트로 명령을 수행하는 유혹에 빠져들었다. 사실,

일부 사용자들은 오로지 “permission denied” 메시지를 피하기 위해서 루트 사용자로 자신의 시스템을 운영했다. 이렇게 해서 리눅스 시스템의 보안을 윈도우즈 수준으로 약화시킨다. 이것은 그리 좋은 생각이 아니다.

우분투가 처음 선보였을 때, 우분투 창시자는 기존과 다른 방침을 취했다. 기본적으로, 우분투는 루트 계정 로그인을 비활성화하였고(계정 비밀번호 설정이 불가능하게) 대신에 sudo 명령어로 슈퍼유저 특권을 허용하였다.

처음 사용자 계정은 sudo 명령으로 슈퍼유저 특권에 완전한 접근이 허용되고 하위 계정에 대하여 슈퍼우저 권한을 보장한다.