
---
# 파일 모드 변경


파일 또는 디렉토리의 모드를 변경하기 위해서 chmod 명령어를 사용한다. 그 모드의 변경은 오직 파일 소유자나 슈퍼유저만이 가능하다는 것을 명심해야 한다. chmod는 모드 변경을 표현하는 두 방법을 제공한다. 8진수의 숫자로 표현하는 법과, 문자로 표현하는 법이다.

### 8진법 표현법


원하는 퍼미션 형태를 설정하기 위해 8진수 표기법을 사용한다.


[표 9-4] 2진법과 8진법의 파일 모드

|   |   |   |
|---|---|---|
|8진법|2진법|파일 모드|
|0|000|---|
|1|001|--x|
|2|010|-w-|
|3|011|-wx|
|4|100|r--|
|5|101|r-x|
|6|110|rw-|
|7|111|rwx|

3자리의 8진수로 소유자, 그룹 소유자, 기타 사용자를 위한 파일 모드를 설정할 수 있다.


``` shell
kgm0917@DESKTOP-DT2VQLB:~$ > foo.txt

kgm0917@DESKTOP-DT2VQLB:~$ ls -l foo.txt

-rw-r--r-- 1 kgm0917 kgm0917 0 Jan 29 15:49 foo.txt

kgm0917@DESKTOP-DT2VQLB:~$ chmod 600 foo.txt

kgm0917@DESKTOP-DT2VQLB:~$ ls -l foo.txt

-rw------- 1 kgm0917 kgm0917 0 Jan 29 15:49 foo.txt
```


인자 600을 전달함으로써 파일 소유자는 읽고 쓸 수 있는 반면, 나머지 사용자들의 모든 권한을 제거할 수 있었다.

다음과 같은 표현은 항상 쓰게 될 것이다. 7(rwx),6(rw-), 5(r-x), 4(r--), 0(---)


### 기호 표현

chmod는 또한 파일 모드를 지정하기 위해 문자 표기법을 지원한다. 문자 표기법은 변경할 사용자, 수행할 명령, 설정할 퍼미션, 세 부분으로 나뉜다. 변경할 사용자를 지정하기 위해서는 표 9-5처럼 **u,g,o**문자의 조합과 **a**를 사용한다.


[표 9-5] chmod 기호 표기법


| 기호  | 의미                              |
| --- | ------------------------------- |
| u   | user의 약자로, 파일이나 디렉토리 소유자를 의미한다. |
| g   | 그룹 소유자                          |
| o   | others의 약자로, 기타 사용자를 의미한다.      |
| a   | all 의 약자로, u,g,o 의 조합이다.        |


아무런 문자를 사용하지 않으면, 자연스럽게 all로 추정하고 그 명령은 퍼미션이 추가된 a +가 될 것이다. a-는 퍼미션이 없어진다는 것을 나타내고, ==`a=`는 단지 지정된 퍼미션들만 적용되고 나머지 다른 것들은 제거 될 것임을 나타낸다.==

퍼미션은 r,w,x 문자로 지정된다. 표 9-6은 기호 표기법의 예제를 나열한 것이다.


[표 9-6] chmod 기호 표기법 예제

| 표기법        | 의미                                                                              |
| ---------- | ------------------------------------------------------------------------------- |
| u+x        | 소유자에게 실행 권한을 추가한다.                                                              |
| u-x        | 소유자의 실행권한을 제거한다.                                                                |
| +x         | 모든 사용자(소유자, 그룹, 기타 사용자)에게 실행 권한을 추가한다. a+x와 동일하다.                               |
| o -rw      | 소유자와 그룹 소유자가 아닌 사용자의 읽기, 쓰기 권한을 제거한다.                                           |
| go=rw      | 그룹 소유자나 기타 사용자가 읽기, 쓰기 권한을 갖도록 한다. 그룹 소유자든 기타 사용자든 이전에 실행 권한을 가지고 있다면 그것은 제거된다. |
| u+x, go=rw | 소유자에게 실행 권한을 추가하고 그룹 소유자와 기타 사용자에게 읽기, 쓰기 권한을 설정한다. 복수 지정은 콤마를 사용하여 구분한다.       |


어떤 사람은 8진 표기법 사용을 선호하고, 어떤 이들은 기호 표기를 좋아한다. 기호 표기법은 다른 속성을 건드리지 않고 하나의 속성만을 설정할 수 있다는 이점을 제공한다.


**chmod** man 페이지를 살펴보면 좀 더 자세한 것과 옵션 목록을 확인할 수 있다. **--recursive** 옵션에 주의해야 한다. ==그것은 파일과 디렉토리 모두에게 해당 파일 모드를 적용한다.== 따라서 파일과 디렉토리에 똑같은 권한을 설정하는 것은 드문 일이기 때문에 우리가 생각하는 것처럼 유용한 옵션은 아니다.


- GUI로 파일 모드 설정


파일과 디렉토리에 퍼미션을 설정하는 법을 보았기 때문에 GUI에서 퍼미션 대화상자를 잘 이해할 수 있을 것이다. 노틸러스(Gnome의 Nautilus)와 퀀커러(KDE의 Konqueror) 둘 다 파일 또는 디렉토리에서 오른쪽 클릭하면 속성 대화상자가 나타날 것이다.

여기서 소유자, 그룹, 기타 사용자에 관한 설정을 볼 수 있다. KDE에서 고급 퍼미션 설정 버튼을 클릭하면 각각 따로 모드 속성을 설정할 수 있는 또 다른 대화상자를 띄운다.