
---
# 사용자 ID 변경


우리가 관리 작업을 실행하기 위해 종종 슈퍼유저 특권을 얻기를 원하는 경우도 있지만, 테스트 계정으로 이러한 작업을 수행하기 위해 다른 일반 사용자가 **“되는 것”** 또한 원한다. 다른 사용자 ID를 사용하는 세 가지 방법이 있다.


- 로그아웃 후 다른 사용자로 로그인하기
- su 명령어 사용하기
- [[sudo]] 명령어 사용하기


[[su]] 명령어를 사용하면 다른 사용자의 ID를 상정하고 그 ID로 새로운 쉘 미션을 시작하거나 그 사용자로서 명령어를 내보내게 된다.

**[[sudo]]** 명령어는 관리자가 /etc/sudoers 설정 파일을 설정하게 해주고 다른 사용자의 권한을 가지고 특정 명령어를 실행할 수 있게 한다.

이 가운데 어느 명령어를 사용할 것인지는 대체로 사용 중인 리눅스 배포판에 의해 결정된다.


---
# su- 다른 사용자 ID와 그룹 ID로 쉘 실행


su 명령어는 다른 사용자로 쉘 시작하기 위해 사용한다. 명령어 문법은 다음과 같다.

```
su[-[l]] [user]
```


만약 `–l` 옵션을 사용하면, ==반환된 쉘 세션은 이 명령에 지정된 사용자를 위한 로그인 쉘이 된다.== 이는 해당 사용자 환경이 로드되고 작업 디렉토리가 그 사용자의 홈 디레토리를 변경됨을 의미한다. 이것이 우리가 항상 원하던 것이다. 만약 사용자를 지정하지 않으면 ‘슈퍼유저’로 가정한다.


``` shell
┌──(kali㉿kali)-[~/Documents]

└─$ su

암호:

┌──(root㉿kali)-[/home/kali/Documents]

└─#
```


명령어를 입력한 후, 슈퍼유저 비밀번호를 입력하기 위한 프롬프트가 나타난다. 성공적으로 입력하면, 슈퍼유저 특권을 가진 새로운 쉘 프롬프트(`$`가 아닌 `#`로 시작하는)가 나타난다. 그리고 현재 작업 디렉토리는 이제 슈퍼유저의 홈 디렉토리(일반적으로 /root)가 된다. 새로운 쉘에서 슈퍼유저로 명령어를 수행하며, 작업을 마치면 `exit`를 입력하여 나올 수 있다.

``` shell
┌──(root㉿kali)-[/home/kali/Documents]

└─# exit

┌──(kali㉿kali)-[~/Documents]

└─$
```


또한 다음 방법으로 su 명령을 사용하면, 새로운 명령으로 시작하지 않고 단일 명령어 수행이 가능하다.

su –c *‘command’*


==이 형태를 사용하면 단일 명령 행이 실행을 위한 새로운 쉘에 전달된다.== 기존 쉘이 아닌 새로운 쉘에 확장이 발생하기를 원치 않기 때문에 명령어를 인용부호로 감싸는 것은 중요하다.


``` shell
┌──(kali㉿kali)-[~]

└─$ su -c 'ls -l /root/*'

암호:

/root/공개:

합계 0

/root/다운로드:

합계 0

/root/문서:

합계 0

/root/바탕화면:

합계 0

/root/비디오:

합계 0

/root/사진:

합계 0

/root/서식:

합계 0

/root/음악:

합계 0
```