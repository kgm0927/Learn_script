κ° κ°€μƒ λΌμ°ν„°λ” λ³„λ„μ λ„¤νΈμ›ν¬ λ„¤μ„μ¤νμ΄μ¤λ΅ κµ¬ν„λ©λ‹λ‹¤.
### **λ„¤νΈμ›ν¬ λ„¤μ„μ¤νμ΄μ¤ λ° veth μΈν„°νμ΄μ¤ μ„¤μ •**

λ‹¤μ„― κ°μ λΌμ°ν„°λ¥Ό κ°€μƒ ν™κ²½μ—μ„ μ„¤μ •ν•λ” λ°©λ²•μ„ λ³΄μ—¬λ“λ¦¬κ² μµλ‹λ‹¤. κ° λΌμ°ν„°λ” ν•λ‚ μ΄μƒμ λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤λ¥Ό κ°€μ§€κ³  μμΌλ©°, μ„λ΅ μ—°κ²°λ©λ‹λ‹¤.

``` bash
sudo ip netns add R1 
sudo ip netns add R2 
sudo ip netns add R3 
sudo ip netns add R4 
sudo ip netns add R5
```

ip netnsλ” λ„¤μ„ μ¤νμ΄μ¤μ— κ΄€λ ¨λ λ‚΄μ©μ΄λ‹¤.

---
### **π”Ή 1. λ„¤μ„μ¤νμ΄μ¤ μƒμ„±**

λ¨Όμ € `R1`μ΄λΌλ” λ„¤μ„μ¤νμ΄μ¤λ¥Ό λ§λ“­λ‹λ‹¤.



``` bash
sudo ip netns add R1
```

---

### **π”Ή 2. VLAN μΈν„°νμ΄μ¤κ°€ μ—†λ‹¤λ©΄ μƒμ„±**

(μƒμ„±λ VLAN μΈν„°νμ΄μ¤λ¥Ό λ„¤μ„μ¤νμ΄μ¤λ΅ μ΄λ™ν•  μμ •)


``` bash
sudo ip link add link eth0 name eth0.10 type vlan id 10 
sudo ip link add link eth0 name eth0.12 type vlan id 12 
sudo ip link set eth0.10 up 
sudo ip link set eth0.12 up
```


---

### **π”Ή 3. μΈν„°νμ΄μ¤λ¥Ό λ„¤μ„μ¤νμ΄μ¤λ΅ μ΄λ™**

λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤λ¥Ό `R1` λ„¤μ„μ¤νμ΄μ¤λ΅ μ®κΉλ‹λ‹¤.


``` bash

sudo ip link set eth0.10 netns R1 
sudo ip link set eth0.12 netns R1

```

μ΄μ  `eth0.10`κ³Ό `eth0.12`λ” **λ„¤μ„μ¤νμ΄μ¤ `R1` λ‚΄λ¶€μ—μ„λ§** λ³΄μ΄κ² λ©λ‹λ‹¤.

---

### **π”Ή 4. λ„¤μ„μ¤νμ΄μ¤ λ‚΄λ¶€μ—μ„ μΈν„°νμ΄μ¤ ν™μ„±ν™”**

λ„¤μ„μ¤νμ΄μ¤ λ‚΄λ¶€μ—μ„ `eth0.10`κ³Ό `eth0.12`λ¥Ό ν™μ„±ν™”ν•©λ‹λ‹¤.



``` bash
sudo ip netns exec R1 ip link set eth0.10 up
sudo ip netns exec R1 ip link set eth0.12 up
```

---

### **π”Ή 5. (μ„ νƒ) λ„¤νΈμ›ν¬ μ„¤μ • (IP μ£Όμ† ν• λ‹Ή)**

λ§μ•½ μλ™μΌλ΅ IP μ£Όμ†λ¥Ό μ„¤μ •ν•κ³  μ‹¶λ‹¤λ©΄:



``` bash
sudo ip netns exec R1 ip addr add 192.168.10.1/24 dev eth0.10 
sudo ip netns exec R1 ip addr add 192.168.12.1/24 dev eth0.12
```
μ΄λ ‡κ² ν•λ©΄, `peer` μ—†μ΄λ„ λ‘ λ„¤μ„μ¤νμ΄μ¤λ” μ—°κ²°λ  μ μμµλ‹λ‹¤. λ‹¤λ§, μ΄ κ²½μ° **κ°κ°μ `veth` μΈν„°νμ΄μ¤κ°€ μ§μ ‘ μ—°κ²°λ μƒνƒλ” μ•„λ‹κ³ , λΌμ°ν…μ΄ κ°μ…λ ν•νƒ**μ…λ‹λ‹¤.

---

### **π”Ή 6. (ν…μ¤νΈ) λ„¤μ„μ¤νμ΄μ¤ λ‚΄λ¶€μ—μ„ λ„¤νΈμ›ν¬ ν™•μΈ**

#### β… `R1` λ„¤μ„μ¤νμ΄μ¤ λ‚΄λ¶€μ—μ„ μΈν„°νμ΄μ¤ ν™•μΈ



``` bash
sudo ip netns exec R1 ip addr
```

#### β… λ„¤μ„μ¤νμ΄μ¤μ—μ„ μ™Έλ¶€ λ„¤νΈμ›ν¬ ν•‘ ν…μ¤νΈ (DHCP λλ” μλ™ IP μ„¤μ • ν›„)



``` bash
sudo ip netns exec R1 ping -c 3 8.8.8.8
```

---


# Peerλ¥Ό ν†µν• λ‘ λ„¤μ„ μ¤νμ΄μ¤ κ°„μ μ—°κ²°

- **`peer`λ¥Ό μ‚¬μ©ν•λ” μ΄μ **: `peer`λ” λ‘ λ„¤μ„μ¤νμ΄μ¤λ¥Ό μ—°κ²°ν•  λ• **κ°€μƒ μ΄λ”λ„· μΌ€μ΄λΈ”**μ²λΌ **μλ™μΌλ΅ νμ–΄ μΈν„°νμ΄μ¤λ¥Ό μƒμ„±**ν•΄μ¤λ‹λ‹¤. κΈ°λ³Έμ μΌλ΅λ” `peer`κ°€ λ‘ λ„¤μ„μ¤νμ΄μ¤ κ°„μ **μ§μ ‘μ μΈ μ—°κ²°μ„ μ κ³µν•©λ‹λ‹¤**.
- **`peer` μ—†μ΄ μ—°κ²°**: `veth` μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” λ€μ‹ , λ¬Όλ¦¬μ  NICλ‚ λ‹¤λ¥Έ λ°©λ²•μ„ μ΄μ©ν•΄ λ„¤μ„μ¤νμ΄μ¤ κ°„ μ—°κ²°μ„ ν•  μ μμ§€λ§, **`peer` λ°©μ‹μ΄ ν›¨μ”¬ λ” μ§κ΄€μ μ΄κ³  μ„¤μ •μ΄ κ°„νΈ**ν•©λ‹λ‹¤.

π“Ά **λ”°λΌμ„ `peer` μ—†μ΄λ„ μ—°κ²°ν•  μ μμ§€λ§, `peer`κ°€ κ°€μ¥ ν¨μ¨μ μΈ λ°©μ‹μ΄λΌκ³  ν•  μ μμµλ‹λ‹¤!**